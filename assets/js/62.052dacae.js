(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{217:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("p",[t._v("Checkout Store is designed to handle all actions related the checkout operations and used to propagate the Checkout UI.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),e("p",[t._v("Checkout state is centralized around the "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/models/order.schema.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("Order object"),e("OutboundLink")],1),t._v(" and the address data given by the user within the checkout process, to be stored for further use in the "),e("code",[t._v("localForage")]),t._v(".")]),t._v(" "),e("p",[t._v("The state is modified by "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/1793aaa7afc89b3f08e443f40dd5c6131dd477ba/core/store/modules/checkout/actions.js#L11",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("placeOrder")]),e("OutboundLink")],1),t._v(" action and "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/1793aaa7afc89b3f08e443f40dd5c6131dd477ba/core/store/modules/checkout/actions.js#L41",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("load")]),e("OutboundLink")],1),t._v(" which loads the state from browser database.")]),t._v(" "),e("p",[t._v("The category state data:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("order")]),t._v(" - this is the last order to be placed, the "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/models/order.schema.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("schema is defined"),e("OutboundLink")],1),t._v(" in Ajv compliant format")]),t._v(" "),e("li",[e("code",[t._v("shippingDetails")]),t._v(", "),e("code",[t._v("paymentDetails")]),t._v(" - the address information provided by the user during the "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/pages/Checkout.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("Checkout"),e("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(3),t._v(" "),e("p",[t._v("The cart store provides following public actions:")]),t._v(" "),t._m(4),t._v(" "),e("p",[t._v("Action called by "),e("code",[t._v("Checkout.vue")]),t._v(" to complete the order. Data object is validated against the "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/models/order.schema.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("order schema"),e("OutboundLink")],1),t._v(", stored within the "),e("code",[t._v("localForage")]),t._v(" collection by subseqent call of "),e("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/1793aaa7afc89b3f08e443f40dd5c6131dd477ba/core/store/modules/order/actions.js#L12",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("order/placeOrder")]),e("OutboundLink")],1)]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"checkout-vuex-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checkout-vuex-store","aria-hidden":"true"}},[this._v("#")]),this._v(" Checkout Vuex Store")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#state","aria-hidden":"true"}},[this._v("#")]),this._v(" State")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v(" state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    order"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    personalDetails"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      firstName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      lastName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      emailAddress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      password"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      createAccount"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    shippingDetails"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      firstName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      lastName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      country"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      streetAddress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      apartmentNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      city"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      zipCode"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      phoneNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      shippingMethod"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    paymentDetails"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      firstName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      lastName"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      company"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      country"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      streetAddress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      apartmentNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      city"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      zipCode"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      phoneNumber"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      taxId"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      paymentMethod"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"actions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actions","aria-hidden":"true"}},[this._v("#")]),this._v(" Actions")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"placeorder-context-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#placeorder-context-order","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("placeOrder (context, { order })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"savepersonaldetails-commit-personaldetails"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#savepersonaldetails-commit-personaldetails","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("savePersonalDetails ({ commit }, personalDetails)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Stores the personal Details (the format is exactly the same as this store "),s("code",[this._v("state.personalDetails")]),this._v(") for later use in the browser's storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"saveshippingdetails-commit-shippingdetails"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#saveshippingdetails-commit-shippingdetails","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("saveShippingDetails ({ commit }, shippingDetails)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Stores the shipping Details (the format is exactly the same as this store "),s("code",[this._v("state.shippingDetails")]),this._v(") for later use in the browser's storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"savepaymentdetails-commit-paymentdetails"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#savepaymentdetails-commit-paymentdetails","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("savePaymentDetails ({ commit }, paymentDetails)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Stores the payment Details (the format is exactly the same as this store "),s("code",[this._v("state.paymentDetails")]),this._v(") for later use in the browser's storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"load-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#load-commit","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("load ({ commit })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Load the current state from the "),s("code",[this._v("localForage")])])}],!1,null,null,null);n.options.__file="checkout-store.md";s.default=n.exports}}]);